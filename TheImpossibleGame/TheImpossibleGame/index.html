<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Acceleration 3</title>
  </head>

  <body style="background-color:black;margin:0">

    
    <canvas id="canvas" style="background-color:azure;display:block"></canvas>
    <img src="images/fireball.png" id = "obstacle" style="display:none"/>
    <img src="images/shuriken.png" id = "obstacle2" style="display:none"/>
    <img src="images/player.png" id = "player" style="display:none"/>
    <img src="images/brick_wall.png" id = "wall" style="display:none"/>
    
    <script src=".js/utils.js"></script>
    <script src="./js/classes/player.js"></script>
    <script src="./js/classes/enemy.js"></script>
    <script src="./js/classes/wall.js"></script>
    <script src="./js/classes/draw_wall.js"></script>
    <script src="./js/classes/map.js"></script>
        
     <script>

         var vx = 0;
         var vy = 0;
         var ax = 0;
         var ay = 0;
         var isRight = false;
         var isLeft = false;
         var isUp = false;
         var isDown = false;

         var scalePercentageX = 0;
         window.onload = function () {
             var canvas = document.getElementById('canvas');
             context = canvas.getContext('2d');

             scalePercentageX = window.innerWidth / 1600;
             scalePercentageY = window.innerHeight / 900;

             canvas.width = 1600 * scalePercentageX;
             canvas.height = 900 * scalePercentageY;

             player = new Player("player", 30, 30, 50, 50);

             var enemy = init_enemy();
             init_map(canvas);



             window.addEventListener('keydown', function (event) {
                 if (event.keyCode == 39) {
                     isRight = true;
                 }
                 if (event.keyCode == 37) {
                     isLeft = true;
                 }
                 if (event.keyCode == 38) {
                     isUp = true;
                 }
                 if (event.keyCode == 40) {
                     isDown = true;
                 }
             }
            , false);
             (function drawFrame() {

                 window.requestAnimationFrame(drawFrame, canvas);
                 player.move();
                 for (var i = 1; i < enemy.length; i++) {
                     enemy[i].move();
                     enemy[i].draw();
                 }

             }());
             window.addEventListener('keyup', function (event) {
                 if (event.keyCode == 39) {
                     isRight = false;
                 }
                 if (event.keyCode == 37) {
                     isLeft = false;
                 }
                 if (event.keyCode == 38) {
                     isUp = false;
                 }
                 if (event.keyCode == 40) {
                     isDown = false;
                 }
             }, false);
         };
    </script>
  </body>
</html>
